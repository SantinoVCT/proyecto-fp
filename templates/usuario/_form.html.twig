{{ form_start(form) }}
    <div>
        {{ form_row(form.email) }}
    </div>

    <div>
        {{ form_row(form.roles) }}
    </div>

    <div class="password-field">
        <label for="{{ form.password.vars.id }}">{{ form.password.vars.label|default('Password') }}</label>
        <div style="display:flex; align-items:center;">
            {{ form_widget(form.password, {'attr': {'class': 'form-control my-3', 'style':'flex:1'}}) }}
            <button type="button" id="togglePassword" style="margin-left:8px;" class="btn btn-outline-secondary">üëÅ</button>
        </div>
        {{ form_errors(form.password) }}
    </div>

    <div>
        {{ form_row(form.Nombre) }}
    </div>

    <div>
        {{ form_row(form.Apellidos) }}
    </div>

    <div>
        {{ form_row(form.Direccion) }}
    </div>

    {{ form_rest(form) }}

    <button class="bg-green-500 hover:bg-green-700 mt-4 mb-2 text-white font-bold py-2 px-4 rounded">{{ button_label|default('Save') }}</button>
    <a class="bg-orange-500 hover:bg-orange-700 mt-4 mb-2 text-white font-bold py-2 px-4 rounded" href="{{ path('app_usuario_index') }}">Back to the list</a>

{{ form_end(form) }}

<script>
    (function(){
        const toggle = document.getElementById('togglePassword');
        if (!toggle) return;
        const input = document.getElementById('{{ form.password.vars.id }}');
        toggle.addEventListener('click', function(){
            if (input.type === 'password') {
                input.type = 'text';
                toggle.textContent = 'Hide';
            } else {
                input.type = 'password';
                toggle.textContent = 'See';
            }
        });
    })();
</script>
